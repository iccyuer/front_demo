<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/user.css">
    <script src="./js/jquery.min.js"></script>
    <script src="./js/bootstrap.bundle.min.js"></script>
    <!-- <script src="./js/bootstrap-paginator.min.js"></script> -->
</head>

<body>
    <div class="head">
        <img src="./images/review.png" alt="">
    </div>
    <div class="form inset-border flex">
        <div class="arrow arrow-1"></div>
        <div class="arrow arrow-2"></div>
        <div class="arrow arrow-3"></div>
        <div class="arrow arrow-4"></div>
        <div class="form-item">
            <div class="label"></div>
            <div class=""></div>
        </div>
        <form class="row gx-3 gy-2 align-items-center">
            <div class="col-auto flex">
                <label class="" for="specificSizeInputName">姓名</label>
                <input type="text" class="form-control inset-border" id="specificSizeInputName" placeholder="请输入姓名"
                    autocomplete="off">
            </div>
            <div class="col-auto flex">
                <label class="" for="specificSizeSelect">标签</label>
                <select class="form-select" id="specificSizeSelect">
                    <option selected>请选择标签</option>
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                </select>
            </div>
            <div class="col-auto">
                <button type="button" class="btn btn-primary form-search-btn" data-bs-toggle="modal"
                    data-bs-target="#exampleModal2">查询</button>
            </div>
            <div class="col-auto">
                <button type="button" class="btn btn-primary form-add-btn" data-bs-toggle="modal"
                    data-bs-target="#exampleModal">新增</button>
            </div>
        </form>
    </div>
    <div class="table- inset-border">
        <div class="border- border-1-"></div>
        <div class="border- border-2-"></div>
        <div class="border- border-3-"></div>
        <div class="border- border-4-"></div>
        <table class="table table-bordered align-middle">
            <thead class="align-middle">
                <tr>
                    <th scope="col">姓名</th>
                    <th scope="col">标签</th>
                    <th scope="col">训练次数</th>
                    <th scope="col">最后训练时间</th>
                    <th scope="col">备注</th>
                    <th scope="col">操作</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>张三</td>
                    <td>1部</td>
                    <td>3次</td>
                    <td>2021-04-22 12:00:00</td>
                    <td style="min-width: 400px;">备注</td>
                    <td class="flex flex-justify-content-space-around">
                        <button class="history-btn">查看历史战绩</button>
                        <button class="info-btn">修改个人信息</button>
                    </td>
                </tr>
            </tbody>
        </table>

        <div class="tablecontent"></div>
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                <li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>

    <!-- modal input -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content inset-border">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">添加新人员</h5>
                    <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> -->
                    <img src="./images/close.png" alt="" class="btn-close-" data-bs-dismiss="modal">
                </div>
                <div class="modal-body">
                    <input type="text" class="form-control inset-border" id="specificSizeInputName2" placeholder="请输入姓名"
                        autocomplete="off">
                    <input type="text" class="form-control inset-border" id="specificSizeInputName2" placeholder="请输入编号"
                        autocomplete="off">
                    <div class="col-auto flex">
                        <select class="form-select" id="specificSizeSelect">
                            <option selected>请选择部门</option>
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                        </select>
                    </div>
                    <input type="text" class="form-control inset-border" id="specificSizeInputName2" placeholder="备注"
                        autocomplete="off">
                </div>
                <div class="flex flex-justify-content-space-around confirm-btns">
                    <button type="button" class="btn btn-secondary modal-confirm">确定</button>
                    <button type="button" class="btn btn-secondary modal-cancel" data-bs-dismiss="modal">取消</button>
                </div>
            </div>
        </div>
    </div>


    <!-- modal-table -->
    <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl modal-table">
            <div class="modal-content inset-border">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">张三的训练记录</h5>
                    <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> -->
                    <img src="./images/close.png" alt="" class="btn-close-" data-bs-dismiss="modal">
                </div>
                <div class="modal-body">
                    <table class="table table-bordered align-middle">
                        <thead class="align-middle">
                            <tr>
                                <th scope="col">训练编号</th>
                                <th scope="col">地图名称</th>
                                <th scope="col">训练时间</th>
                                <th scope="col">综合得分</th>
                                <th scope="col">操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>123213</td>
                                <td>居民楼搜索射击</td>
                                <td>2021-04-22 12:00:00</td>
                                <td>232321</td>
                                <td class="flex flex-justify-content-space-around">
                                    <button class="info-btn">查看详细数据</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script>

        let modalel = document.getElementById('exampleModal');

        let modal = new bootstrap.Modal(modalel, { keyboard: false })

        // modalel.addEventListener('hidden.bs.modal', function (event) {
        //     // do something...
        //     console.log('hihii')
        //     // modal.dispose()
        //     $(this).removeData('bs.modal');
        // })

        $('body').on('hidden.bs.modal', '.modal', function () {
            $('#specificSizeInputName2').val('')
        });

        $()
    </script>
    <script>
        // $.get('http://localhost:8099/record/historyRecord')
        function getdata(page = 1, size = 2) {
            let list = [1, 2, 3, 4, 5, 6, 7, 8, 9]
            return {
                count: Math.ceil(list.length / size),
                rows: list.slice((page - 1) * size, page * size)
            }
        }

        renderPagination(1, 5)

        function renderPagination(currentPage, totalPage) {
            var tpl = ''
            for (let i = 0; i < totalPage; i++) {
                tpl += `<li class="page-item ${currentPage == i + 1 ? 'active' : ''}"><a class="page-link" href="javascript:;" index=${i + 1} >${i + 1}</a></li>`
            }
            $('.pagination').html(tpl);
        }


        $('.pagination').on('click', '.page-link', function () {
            let a = $(this)
            console.log(a.val())
            console.log(a.attr('index'))

            let { rows, count } = getdata(a.attr('index'), 2)
            $('.tablecontent').html(rows)
            renderPagination(a.attr('index'), count)
        })



        // let currentPage = 1;
        // let pageSize = 2;


        // function render() {
        //     let { rows, count } = getdata(currentPage,pageSize)
        //     setPage(currentPage, count, render)
        // }

        // render()

        // function setPage(pageCurrent, pageSum, callback) {
        //     $(".pagination").bootstrapPaginator({
        //         //设置版本号
        //         bootstrapMajorVersion: 5,
        //         // 显示第几页
        //         currentPage: pageCurrent,
        //         // 总页数
        //         totalPages: pageSum,
        //         //当单击操作按钮的时候, 执行该函数, 调用ajax渲染页面
        //         onPageClicked: function (event,originalEvent,type,page) {
        //             // 把当前点击的页码赋值给currentPage, 调用ajax,渲染页面
        //             currentPage = page
        //             callback && callback()
        //         }
        //     })
        // }


    </script>
</body>




</html>